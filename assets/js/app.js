!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){n(1),n(2),n(3),n(4),n(5),n(6),n(7),n(8),n(9),n(10),n(11),e.exports=n(12)},function(e,t){function n(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var o=0,c=function(){};return{s:c,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,u=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){u=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(u)throw a}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t,n,r,o,c,a){try{var i=e[c](a),u=i.value}catch(e){return void n(e)}i.done?t(u):Promise.resolve(u).then(r,o)}var c=document.querySelector(".add-company__form");if(c){c.autocomplete="off";var a=document.querySelector("#company-name"),i=document.querySelector("#itn"),u=document.querySelector("#experience"),l=document.querySelectorAll('[name="phone"]'),s=document.querySelector("#site"),d=document.querySelector("#review-text"),f=document.querySelector("#adress"),v=document.querySelector("#msrn"),m=document.querySelector("#email"),h=document.querySelector("#company-repairs"),y=document.querySelector("#company-designe"),p=document.querySelector("#file-img"),g=document.querySelector(".feedback__files"),_=document.querySelector(".add-company__btn"),b=document.querySelector(".overlay"),q={img:{}},S=function(){a.value.length>5&&12===i.value.length&&u.value.length>5&&13===v.value.length&&18===l[0].value.length&&s.value.length>10&&d.value.length>10&&!m.parentNode.classList.contains("error")&&m.value.length>0&&f.value.length>10?_.classList.remove("disabled"):_.classList.add("disabled")},L=function(e){var t=e.target.files[0];document.querySelectorAll(".feedback__file-block")&&(g.textContent="",q.img={});var n=new FileReader;t&&(g.insertAdjacentHTML("afterbegin",'\n                    <div class="feedback__file-block">\n                        <span class="feedback__file-name">'.concat(t.name,'</span>\n                        <button type="button" class="feedback__file-delete">x</button>\n                    </div>\n                ')),n.readAsBinaryString(t),n.addEventListener("load",function(){var e,n=(e=regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:q.img=[],q.img.name=t.name,q.img.base64=btoa(n.target.result);case 2:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,c){var a=e.apply(t,n);function i(e){o(a,r,c,i,u,"next",e)}function u(e){o(a,r,c,i,u,"throw",e)}i(void 0)}))});return function(e){return n.apply(this,arguments)}}()),document.querySelector(".feedback__file-delete").addEventListener("click",(function(e){g.textContent="",q.img={}})))};S();!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+7 (___) ___-__-__",r=document.querySelectorAll(e);function o(e){var n=e.keyCode,r=t,o=r.replace(/\D/g,""),c=this.value.replace(/\D/g,""),a=0,i=r.replace(/[_\d]/g,(function(e){return a<c.length?c.charAt(a++)||o.charAt(a):e}));-1!=(a=i.indexOf("_"))&&(i=i.slice(0,a));var u=r.substr(0,this.value.length).replace(/_+/g,(function(e){return"\\d{1,"+e.length+"}"})).replace(/[+()]/g,"\\$&");(!(u=new RegExp("^"+u+"$")).test(this.value)||this.value.length<5||n>47&&n<58)&&(this.value=i),"blur"==e.type&&this.value.length<5&&(this.value="")}var c,a=n(r);try{for(a.s();!(c=a.n()).done;){var i=c.value;i.addEventListener("input",o),i.addEventListener("focus",o),i.addEventListener("blur",o)}}catch(e){a.e(e)}finally{a.f()}}('[name="phone"]'),l.forEach((function(e){e.addEventListener("input",(function(){S()}))})),s.addEventListener("input",(function(){S()})),d.addEventListener("input",(function(){var e,t,n,r;S(),document.querySelector(".count_symbols").textContent="Осталось ".concat(400-d.value.length," ").concat((e=400-d.value.length,t="символ",n=Math.abs(e)%100,r=n%10,n>4&&n<21?t+"ов":r>1&&r<5?t+"a":1===r?t:t+"ов"))})),f.addEventListener("input",(function(){S()})),u.addEventListener("input",(function(){S()})),m.addEventListener("input",(function(){var e;/[0-9a-z_-]+@[0-9a-z_-]+\.[a-z]{2,5}/i.test(m.value)?(e=m.parentNode).classList.contains("error")&&(e.classList.remove("error"),e.querySelector("p").remove()):function(e,t){e.classList.contains("error")||(e.classList.add("error"),e.insertAdjacentHTML("beforeend","<p>".concat(t,"</p>")))}(m.parentNode,"Некоректный email"),S()})),i.addEventListener("input",(function(){i.value=i.value.replace(/[^\d\+]/g,"")})),v.addEventListener("input",(function(){i.value=i.value.replace(/[^\d\+]/g,"")})),p.addEventListener("dragstart",(function(e){e.preventDefault()})),document.addEventListener("drop",L),p.addEventListener("change",L),c.addEventListener("submit",(function(e){e.preventDefault(),q.nameCompany=a.value,q.itn=i.value,q.experience=u.value,q.site=s.value,q.reviewText=d.value,q.adress=f.value,q.msrn=v.value,q.email=m.value,q.phones=[],q.typeCompany=[],l.forEach((function(e){e.value.length>0&&q.phones.push(e.value.trim())})),h.checked&&q.typeCompany.push("Ремонт"),y.checked&&q.typeCompany.push("Дизайн"),b.style.display="flex",setTimeout((function(){return b.removeAttribute("style")}),1e4),c.reset(),console.log(q)})),b.addEventListener("click",(function(e){var t=e.target;(t===b||t.closest(".modal__close"))&&b.removeAttribute("style")}))}},function(e,t){var n=document.querySelector(".routes__list");if(n){var r=Array.from(n.querySelectorAll(".routes__link")).filter((function(e,t){return 0!==t})),o=function(){window.screen.width<400&&r.forEach((function(e){return e.textContent.length>24?e.textContent=e.textContent.substr(0,24)+"...":e.textContent=e.textContent}))};o(),window.addEventListener("resize",o)}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}if(document.querySelector(".calculator-block__content")){var r=document.querySelector("#type"),o=document.querySelector("#square"),c=document.querySelector("#electrician"),a=document.querySelector("#type-renovation"),i=document.querySelector("#ceilings"),u=document.querySelector("#bathroom"),l=document.querySelector("#square-bathroom"),s=document.querySelector("#warm-floor"),d=document.querySelector("#square-floor"),f=document.querySelector("#doors"),v=document.querySelector("#switch"),m=document.querySelector(".price__count"),h=document.querySelector(".calculator__switch-text");(new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.type=6e3,this.square=42,this.electrician=0,this.typeRenovation=0,this.ceilings=0,this.bathroom=0,this.squareBathroom=1,this.squareFloor=1,this.warmFloor=0,this.doors=0,this.switchCheckbox=0,this.fullPrice=0}var t,y,p;return t=e,(y=[{key:"start",value:function(){this.changePrice()}},{key:"changePrice",value:function(){this.fullPrice=this.type*this.square+this.electrician+this.typeRenovation+this.square*this.ceilings+this.bathroom*this.squareBathroom+this.warmFloor*this.squareFloor+this.doors+this.switchCheckbox,m.textContent=this.fullPrice+" руб."}},{key:"eventListener",value:function(){var e=this;r.addEventListener("change",(function(){e.type=+r.value,e.changePrice()})),o.addEventListener("input",(function(){e.square=+o.value,o.parentNode.querySelector(".calculator__count").value=e.square+" кв.м",e.changePrice()})),c.addEventListener("change",(function(){e.electrician=+c.value,e.changePrice()})),a.addEventListener("change",(function(){e.typeRenovation=+a.value,e.changePrice()})),i.addEventListener("change",(function(){e.ceilings=+i.value,e.changePrice()})),u.addEventListener("change",(function(){"true"===u.value?(l.parentNode.classList.remove("hide"),e.bathroom=13e3):(l.parentNode.classList.add("hide"),e.bathroom=0),e.changePrice()})),s.addEventListener("change",(function(){"true"===s.value?(d.parentNode.classList.remove("hide"),e.warmFloor=200):(d.parentNode.classList.add("hide"),e.warmFloor=0),e.changePrice()})),l.addEventListener("input",(function(){e.squareBathroom=+l.value,l.parentNode.querySelector(".calculator__count").value=e.squareBathroom+" кв.м",e.changePrice()})),d.addEventListener("input",(function(){e.squareFloor=+d.value,d.parentNode.querySelector(".calculator__count").value=e.squareFloor+" кв.м",e.changePrice()})),f.addEventListener("change",(function(){e.doors=8500*f.value,e.changePrice()})),v.addEventListener("change",(function(){v.checked?e.switchCheckbox=35e3:e.switchCheckbox=0,v.checked?h.textContent="Да":h.textContent="Нет",e.changePrice()})),this.start()}}])&&n(t.prototype,y),p&&n(t,p),e}())).eventListener()}},function(e,t){var n=document.querySelector(".description"),r=document.querySelector(".main-info__email");if(n){var o=n.querySelector(".description__text-block");if(o.offsetHeight>210){o.insertAdjacentHTML("afterend",'\n            <button class="open__descrition">\n                Подробнее\n            </button>\n        '),o.style.height="210px";var c=n.querySelector("button");c.addEventListener("click",(function(){c.classList.contains("close")?(o.style.height="210px",c.classList.remove("close"),c.textContent="Подробнее"):(o.style.height="auto",c.classList.add("close"),c.textContent="Свернуть")}))}}r&&r.addEventListener("click",(function(){r.textContent=r.dataset.email,r.classList.add("active")}))},function(e,t){var n=document.querySelector(".feedback");if(n){n.autocomplete="off";var r=document.querySelector("input[name=username]"),o=document.querySelector('input[name="email"]'),c=document.querySelector('input[name="review-title"]'),a=document.querySelector('textarea[name="review-text"]'),i=document.querySelector("#privacy-policy-chekbox"),u=document.querySelector(".account-period"),l=document.querySelector(".account-price"),s=document.querySelector(".account-quality-repairs"),d=document.querySelector(".account-quality"),f=document.querySelector('input[name="recomend"]'),v=document.querySelector(".feedback__file-input"),m=document.querySelector(".feedback__btn"),h=document.querySelector(".feedback__files"),y=u.querySelectorAll("input"),p=l.querySelectorAll("input"),g=s.querySelectorAll("input"),_=d.querySelectorAll("input"),b=document.querySelector(".overlay"),q={img:[]},S=function(){!r.parentNode.classList.contains("error")&&!o.parentNode.classList.contains("error")&&i.checked&&Array.from(y).some((function(e){return e.checked}))&&Array.from(p).some((function(e){return e.checked}))&&Array.from(g).some((function(e){return e.checked}))&&Array.from(_).some((function(e){return e.checked}))&&a.value.length>10?m.classList.remove("disabled"):m.classList.add("disabled")},L=function(e,t){e.classList.contains("error")||(e.classList.add("error"),e.insertAdjacentHTML("beforeend","<p>".concat(t,"</p>")))},E=function(e){e.classList.contains("error")&&(e.classList.remove("error"),e.querySelector("p").remove())},k=function(e){document.querySelectorAll(".feedback__file-block")&&(h.textContent="",q.img=[]);var t=v.files;Array.from(t).forEach((function(e){h.insertAdjacentHTML("afterbegin",'\n                    <div class="feedback__file-block">\n                        <span class="feedback__file-name">'.concat(e.name,'</span>\n                        <button class="feedback__file-delete">x</button>\n                    </div>\n                '));var t=new FileReader;t.readAsBinaryString(e),t.addEventListener("load",(function(t){q.img.push({name:e.name,base64:btoa(t.target.result)})}))}));!function e(){var t=Array.from(document.querySelectorAll(".feedback__file-block"));document.querySelectorAll(".feedback__file-delete").forEach((function(n,r){n.addEventListener("click",(function(n){n.preventDefault(),t.splice(r,1),h.textContent="",t.forEach((function(e){return h.append(e)})),e()}))}))}()};S(),r.addEventListener("input",(function(){r.value=r.value.replace(/[^А-Яа-яЁё ]/i,""),r.value.length<3?L(r.parentNode,"Введите Имя русскими буквами"):E(r.parentNode),S()})),o.addEventListener("input",(function(){/[0-9a-z_-]+@[0-9a-z_-]+\.[a-z]{2,5}/i.test(o.value)?E(o.parentNode):L(o.parentNode,"Некоректный email"),S()})),a.addEventListener("input",(function(){S()})),i.addEventListener("change",(function(){S()})),y.forEach((function(e){return e.addEventListener("change",(function(){S()}))})),p.forEach((function(e){return e.addEventListener("change",(function(){S()}))})),g.forEach((function(e){return e.addEventListener("change",(function(){S()}))})),_.forEach((function(e){return e.addEventListener("change",(function(){S()}))})),v.addEventListener("dragstart",(function(e){e.preventDefault()})),document.addEventListener("drop",k),v.addEventListener("change",k),n.addEventListener("submit",(function(e){e.preventDefault(),q.username=r.value.split(" ").map((function(e){return e[0].toUpperCase()+e.slice(1)})).join(" "),q.email=o.value,c.value.length>0&&(q.reviewTitile=c.value),q.reviewText=a.value,q.accountPeriod=Array.from(y).find((function(e){return e.checked})).value,q.accountPrice=Array.from(p).find((function(e){return e.checked})).value,q.accountQualityRepairs=Array.from(g).find((function(e){return e.checked})).value,q.accountQualityШnteractions=Array.from(_).find((function(e){return e.checked})).value,q.recomend=f.checked,q.date=(new Date).toLocaleTimeString("ru-Ru",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}),console.log(q),b.style.display="flex",setTimeout((function(){return b.removeAttribute("style")}),1e4),n.reset()})),b.addEventListener("click",(function(e){var t=e.target;(t===b||t.closest(".modal__close"))&&b.removeAttribute("style")}))}},function(e,t){var n=function(e){var t,n=e.querySelector(".progress-ring");if(n){var r=n.querySelector(".progress-ring__circle"),o=r.r.baseVal.value,c=2*Math.PI*o;r.style.strokeDasharray="".concat(c," ").concat(c),r.style.strokeDashoffset=c,t=c-n.dataset.percent/100*c,r.style.strokeDashoffset=t}},r=document.querySelectorAll(".company-card"),o=document.querySelector(".info-rating");r.length>0&&r.forEach((function(e){var t,r=e.querySelector(".company-card__footer-info__date");n(e),r.textContent=(t=r.dataset.time,new Date(t).toLocaleTimeString("ru-Ru",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}))})),o&&n(o)},function(e,t){var n=document.querySelector(".map-wrapper");if(n){var r=n.querySelector("#add-filter"),o=n.querySelector("#clear-filter"),c=n.querySelector(".map-filter__form"),a=n.querySelector(".map-cards");r.addEventListener("click",(function(){r.classList.add("hide"),o.classList.remove("hide"),c.classList.remove("hide"),a.classList.add("hide")})),o.addEventListener("click",(function(){r.classList.remove("hide"),o.classList.add("hide"),c.classList.add("hide"),a.classList.remove("hide"),c.reset()})),c.addEventListener("click",(function(e){e.preventDefault();var t,n,r,o=e.target;o.closest(".map-filter__block")&&o.closest(".map-filter__add")&&(o.classList.add("hide"),t=o.closest(".map-filter__block"),n=t.querySelector(".map-filter__block-content"),r=t.querySelector(".map-filter__clear"),n.classList.remove("hide"),r.classList.remove("hide"),console.log(n))}))}},function(e,t){var n=document.querySelector(".header-mobile__btn");if(n){var r=document.querySelector(".header-mobile__nav");n.addEventListener("click",(function(){n.classList.toggle("active"),r.classList.toggle("active")})),window.addEventListener("resize",(function(){n.classList.remove("active"),r.classList.remove("active")}))}var o=document.querySelector(".filter-mobail_btn");if(o){var c=document.querySelector(".filter");o.addEventListener("click",(function(){o.classList.toggle("active"),o.classList.contains("active")?(c.style.opacity="1",c.style.height="auto"):c.removeAttribute("style")}))}},function(e,t){var n=document.querySelectorAll(".reviews-block__time"),r=document.querySelectorAll(".reviews-card__content");if(n){n.forEach((function(e){return e.textContent=(t=e.dataset.time,n=new Date(t),"".concat(n.getDate(),".").concat(n.getMonth()+1,".").concat(n.getFullYear()));var t,n}))}r&&r.forEach((function(e){var t=e.querySelector(".reviews-block__comment");if(t.offsetHeight>220){t.style.height="220px",t.insertAdjacentHTML("afterend",'\n            <button class="open__descrition">\n                Подробнее\n            </button>');var n=e.querySelector("button");n.addEventListener("click",(function(){n.classList.contains("close")?(t.style.height="220px",n.classList.remove("close"),n.textContent="Подробнее"):(t.style.height="auto",n.classList.add("close"),n.textContent="Свернуть")}))}}))},function(e,t){var n=document.querySelectorAll(".header-search"),r=document.querySelector(".header-search__btn-mob"),o=document.querySelector(".header-search__btn-close");n.forEach((function(e){return e.addEventListener("submit",(function(e){e.preventDefault()}))})),r.addEventListener("click",(function(){r.parentNode.classList.add("active")})),o.addEventListener("click",(function(){o.parentNode.classList.remove("active")}))},function(e,t){var n=document.querySelectorAll(".img-slider-block");if(n){n.forEach((function(e,t){var n,r,o,c=e.querySelector(".img-slider-block__container"),a=e.querySelector(".img-slider-block__next"),i=e.querySelector(".img-slider-block__prev");a.classList.add("next-".concat(t)),i.classList.add("prev-".concat(t)),c.classList.add("slider-block-".concat(t)),n=".slider-block-".concat(t),r=".next-".concat(t),o=".prev-".concat(t),new Swiper(n,{slidesPerView:4,spaceBetween:16,slidesPerColumn:1,allowTouchMove:!1,autoHeight:!1,loop:!1,navigation:{nextEl:r,prevEl:o},breakpoints:{1300:{slidesPerView:4},992:{slidesPerView:3},547:{slidesPerView:2},100:{slidesPerView:2,spaceBetween:10}}})}))}},function(e,t){var n=document.querySelectorAll(".star-rating"),r=document.querySelectorAll(".company-card__rating"),o=document.querySelectorAll(".map-card__rating"),c=function(e,t){t.style.width="".concat(e/5*100,"%")};n&&n.forEach((function(e){var t=e.querySelector(".star-rating__count"),n=e.querySelector(".star-rating__active");c(t.textContent,n)})),r&&r.forEach((function(e){var t=e.querySelector(".company-card__rating-default"),n=e.querySelector(".company-card__rating-active");c(t.dataset.ratingCount,n)})),o&&o.forEach((function(e){var t=e.querySelector(".map-card__rating-default"),n=e.querySelector(".map-card__rating-active");c(t.dataset.ratingCount,n)}))}]);